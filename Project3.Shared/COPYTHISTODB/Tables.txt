CREATE TABLE [dbo].[TP_Photos] (      [PhotoID] int NOT NULL,      [RestaurantID] int NOT NULL,      [PhotoURL] nvarchar(MAX) NOT NULL,      [Caption] nvarchar(500) NULL,      [UploadedDate] datetime2(7) NOT NULL CONSTRAINT [DF_TP_Photos_UploadedDate] DEFAULT (getdate())      CONSTRAINT [PK_TP_Photos] PRIMARY KEY CLUSTERED ([PhotoID] ASC),      CONSTRAINT [FK_TP_Photos_Restaurants] FOREIGN KEY ([RestaurantID]) REFERENCES [dbo].[TP_Restaurants] ([RestaurantID]) ON DELETE CASCADE  );    
CREATE TABLE [dbo].[TP_Reservations] (      [ReservationID] int NOT NULL,      [RestaurantID] int NOT NULL,      [UserID] int NULL,      [ContactName] nvarchar(100) NULL,      [Phone] nvarchar(20) NULL,      [Email] nvarchar(100) NULL,      [ReservationDateTime] datetime2(7) NOT NULL,      [PartySize] int NOT NULL,      [SpecialRequests] nvarchar(MAX) NULL,      [Status] nvarchar(50) NOT NULL CONSTRAINT [DF__TP_Reserv__Statu__6166761E] DEFAULT ('Pending'),      [CreatedDate] datetime2(7) NOT NULL CONSTRAINT [DF__TP_Reserv__Creat__625A9A57] DEFAULT (getdate())      CONSTRAINT [PK_TP_Reservations] PRIMARY KEY CLUSTERED ([ReservationID] ASC),      CONSTRAINT [FK_TP_Reservations_Restaurants] FOREIGN KEY ([RestaurantID]) REFERENCES [dbo].[TP_Restaurants] ([RestaurantID]) ON DELETE CASCADE,      CONSTRAINT [FK_TP_Reservations_Users] FOREIGN KEY ([UserID]) REFERENCES [dbo].[TP_Users] ([UserID])  );    
CREATE TABLE [dbo].[TP_RestaurantImages] (      [ImageID] int NOT NULL,      [RestaurantID] int NOT NULL,      [ImagePath] nvarchar(500) NOT NULL,      [Caption] nvarchar(200) NULL,      [UploadDate] datetime NOT NULL CONSTRAINT [DF__TP_Restau__Uploa__14B10FFA] DEFAULT (getdate()),      [DisplayOrder] int NOT NULL CONSTRAINT [DF__TP_Restau__Displ__15A53433] DEFAULT ((0))      CONSTRAINT [PK__TP_Resta__7516F4ECC1A5E3AC] PRIMARY KEY CLUSTERED ([ImageID] ASC),      CONSTRAINT [FK_TP_RestaurantImages_TP_Restaurants] FOREIGN KEY ([RestaurantID]) REFERENCES [dbo].[TP_Restaurants] ([RestaurantID]) ON DELETE CASCADE  );    
CREATE TABLE [dbo].[TP_Reviews] (      [ReviewID] int NOT NULL,      [RestaurantID] int NOT NULL,      [UserID] int NOT NULL,      [VisitDate] datetime2(7) NOT NULL,      [Comments] nvarchar(MAX) NULL,      [FoodQualityRating] int NOT NULL,      [ServiceRating] int NOT NULL,      [AtmosphereRating] int NOT NULL,      [PriceRating] int NOT NULL,      [CreatedDate] datetime2(7) NOT NULL CONSTRAINT [DF_TP_Reviews_CreatedDate] DEFAULT (getdate())      CONSTRAINT [PK_TP_Reviews] PRIMARY KEY CLUSTERED ([ReviewID] ASC),      CONSTRAINT [FK_TP_Reviews_Restaurants] FOREIGN KEY ([RestaurantID]) REFERENCES [dbo].[TP_Restaurants] ([RestaurantID]) ON DELETE CASCADE,      CONSTRAINT [FK_TP_Reviews_Users] FOREIGN KEY ([UserID]) REFERENCES [dbo].[TP_Users] ([UserID])  );    
CREATE TABLE [dbo].[TP_Restaurants] (      [RestaurantID] int NOT NULL,      [Name] nvarchar(200) NOT NULL,      [Address] nvarchar(255) NULL,      [City] nvarchar(100) NULL,      [State] nvarchar(50) NULL,      [ZipCode] varchar(10) NULL,      [Cuisine] nvarchar(100) NULL,      [Hours] nvarchar(255) NULL,      [Contact] nvarchar(100) NULL,      [ProfilePhoto] nvarchar(MAX) NULL,      [LogoPhoto] nvarchar(MAX) NULL,      [MarketingDescription] nvarchar(MAX) NULL,      [WebsiteURL] nvarchar(MAX) NULL,      [SocialMedia] nvarchar(MAX) NULL,      [Owner] nvarchar(100) NULL,      [CreatedDate] datetime2(7) NOT NULL CONSTRAINT [DF_TP_Restaurants_CreatedDate] DEFAULT (getdate())      CONSTRAINT [PK_TP_Restaurants] PRIMARY KEY CLUSTERED ([RestaurantID] ASC),      CONSTRAINT [FK_TP_Restaurants_Users] FOREIGN KEY ([RestaurantID]) REFERENCES [dbo].[TP_Users] ([UserID]) ON DELETE CASCADE ON UPDATE CASCADE  );    
CREATE TABLE [dbo].[TP_Users] (      [UserID] int NOT NULL,      [Username] nvarchar(100) NOT NULL,      [Email] nvarchar(255) NOT NULL,      [PasswordHash] nvarchar(MAX) NOT NULL,      [UserType] varchar(50) NOT NULL,      [CreatedDate] datetime2(7) NOT NULL CONSTRAINT [DF_TP_Users_CreatedDate] DEFAULT (getdate()),      [SecurityQuestion1] nvarchar(255) NULL,      [SecurityAnswerHash1] nvarchar(MAX) NULL,      [SecurityQuestion2] nvarchar(255) NULL,      [SecurityAnswerHash2] nvarchar(MAX) NULL,      [SecurityQuestion3] nvarchar(255) NULL,      [SecurityAnswerHash3] nvarchar(MAX) NULL,      [IsVerified] bit NOT NULL CONSTRAINT [DF_TP_Users_IsVerified] DEFAULT ((0)),      [PasswordResetToken] nvarchar(100) NULL,      [ResetTokenExpiry] datetime2(7) NULL,      [TwoFactorToken] nvarchar(10) NULL,      [TwoFactorTokenExpiry] datetime NULL,      [Is2FAVerified] bit NOT NULL CONSTRAINT [DF__TP_Users__Is2FAV__26CFC035] DEFAULT ((0))      CONSTRAINT [PK_TP_Users] PRIMARY KEY CLUSTERED ([UserID] ASC)  );    